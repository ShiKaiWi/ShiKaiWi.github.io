<!DOCTYPE html>
<html>
    <head>
        <title>python descriptor</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="created" content="2018-01-14T23:40:49+0800"/>
        <meta name="modified" content="2018-05-06T22:55:00+0800"/>
        <meta name="tags" content="study, study/language/python, study/language"/>
        <meta name="last device" content="Xikai’s MBP"/>
    </head>
    <body>
        <div class="note-wrapper">
            <h1>python descriptor</h1>
<p><span class='hashtag'>#study/language/python</span></p>
<br>
<p>##Abstract</p>
<p>阅读完本文，你将明白以下知识：</p>
<ol start="1"><li>descriptor 的定义
</li><li>descriptor 的运行机制
</li><li>descriptor 的作用
</li></ol>
<p>本文也会按照上述三点的顺序来组织。</p>
<br>
<h2>声明</h2>
<p>下面的文章中可能出现 <code class='code-inline'>对象(object)</code> 和 <code class='code-inline'>实例(instance)</code> 这两个术语，但是是同一个意思。</p>
<p>此外，本文默认读者对以下概念完全理解：</p>
<ol start="1"><li><code class='code-inline'>class</code> 与 <code class='code-inline'>object</code> 的关系，以及其自身的属性存储位置不同这一点
</li><li><code class='code-inline'>function</code> 和 <code class='code-inline'>method</code> 的区别
</li><li><code class='code-inline'>__get__</code>, <code class='code-inline'>__set__</code>, <code class='code-inline'>__del__</code>, <code class='code-inline'>__getattr__</code>, <code class='code-inline'>__getattribute__</code>  的参数完全知道（查看一下手册就行）
</li></ol>
<br>
<h2>descriptor 的定义</h2>
<p>具体而严格的定义可以参照官方文档，本文这里用简单的语言叙述就是：</p>
<p>*定义了 <code class='code-inline'>__get__</code>, <code class='code-inline'>__set__,</code> <code class='code-inline'>__del__</code> 这三个方法中的任意一个或多个的 <code class='code-inline'>__对象__(__object__)</code> 就是 <code class='code-inline'>descriptor</code>*</p>
<br>
<p>如果只定义了 <code class='code-inline'>__get__</code>  的话，那么这个 descriptor 称为 non-data descriptor，否则就是 data descriptor(这样命名的原因下面会提及)。</p>
<p> </p>
<h2>descriptor 的运行机制</h2>
<h3>运行的触发条件</h3>
<p>首先要将运行的条件搞清楚，首先可以确定的一点是：显式调用上述三个方法是肯定可以的，但是这并没有什么意义，因此下面的讨论将会忽略这一点。</p>
<br>
<p>如果不是显式调用，那么就只有被自动触发(<code class='code-inline'>automatically invoked</code>)，然而 descriptor 的机制并<b>不会</b>因为访问自身的属性而触发，只会因为含有 descriptor 作为类属性的类或者是<b>这样类的对象</b>(这里想要强调的实际上是当 descriptor 作为实例，即 instance 的属性时被访问也是不会触发机制的)对 descriptor 进行访问才会触发（但这只是必要条件，也就说仅仅满足这一点还是有可能不会触发）。</p>
<br>
<p>因此，为了方便下面的讨论，这里规定:</p>
<p>B 是含有 descriptor 的类，b 是 B 的实例，d 是 descriptor。</p>
<p>因此触发的条件应该是：B.d、b.d 这样两种情况。</p>
<p>下面都会以 <code class='code-inline'>__get__</code> 方法来代替上述三种方法来举例子。</p>
<br>
<h3>机制的运行过程</h3>
<p>现在假设满足了触发条件，那么会根据调用的不同方式而形成不同的过程——调用的不同方式有两种：</p>
<ol start="1"><li>B.d —— 类调用
</li><li>b.d 或 B().d —— 对象调用
</li></ol>
<h4>类调用</h4>
<p>类调用的实质很简单，就是 <code class='code-inline'>B.__dict__['d'].__get__(None, B)</code>，然后便调用 <code class='code-inline'>__get__</code> 方法。</p>
<h4>对象调用</h4>
<p>对象调用的过程有点复杂，分为两种情况：</p>
<ul><li>d 为 data descriptor:
</li></ul>
<ol start="1"><li>首先会查询 B 的定义中是否存在 d，若是有那么以 <code class='code-inline'>type(b).__dict__[‘d’].__get__(B,b)</code> 访问
</li><li>若是没有则查询 b 的 <code class='code-inline'>__dict__</code> 中是否有 d，有的话，便以 b.d 访问
</li></ol>
<ul><li>d 为 non-data descriptor：与第一种情况查询顺序相反
</li></ul>
<h4>充分的触发条件</h4>
<p>上面提过即使满足必要条件，在某些情况下也是有可能不会触发 descriptor 的机制的。</p>
<br>
<p>这样说的原因是 descriptor 的触发，本质上是由 B 中的 <code class='code-inline'>__getattribute__</code> 方法来触发的，默认的该方法是触发 descriptor 机制的，但是若是重写了 <code class='code-inline'>__getattribute__</code>，那么 descriptor 便不会触发。</p>
<h5>__getattribute__ </h5>
<p>这个方法会负责所有 <b>instance</b>（instance 和 object 是一个意思） 的属性访问。</p>
<p>与这个方法很类似的一个方法是 <code class='code-inline'>__getattr__</code>，但是若是定义前者，后者是不起作用的，除非  <code class='code-inline'>__getattribute__</code> raise 一个 <code class='code-inline'>AttributeError</code>，也许这一点会给人带来疑惑，感觉那又何必使用 <code class='code-inline'>__getattr__</code> 这种方法呢？但我看到这样一种解释，因为 python 的类成员并没有公有和私有的属性，但是实际上却可以通过这两个函数来实现这样的要求。</p>
<br>
<h2>descriptor 的作用</h2>
<p>descriptor 的含义整个概念给人一种非常奇怪而又复杂的感觉，这让人感觉没有必要，但是实际上这是很多 python 中重要的特性实现的底层机制，下面的例子摘自 <a href="https://docs.python.org/3/howto/descriptor.html">How to Use Descriptor</a>。</p>
<h3>Property 类的实现</h3>
<p>python 中有一个 built-in 的类 Property，该类的使用方式如下：</p>
<pre><code class='code-multiline'><span class="sf_code_syntax_project">class</span> C(<span class="sf_code_syntax_keyword">object</span>):     
    <span class="sf_code_syntax_project">def</span> getx(<span class="sf_code_syntax_keyword">self</span>): <span class="sf_code_syntax_keyword">return</span> <span class="sf_code_syntax_keyword">self</span>.__x     
    <span class="sf_code_syntax_project">def</span> setx(<span class="sf_code_syntax_keyword">self</span>, value): <span class="sf_code_syntax_keyword">self</span>.__x <span class="sf_code_syntax_keyword">=</span> value    
    <span class="sf_code_syntax_project">def</span> delx(<span class="sf_code_syntax_keyword">self</span>): <span class="sf_code_syntax_keyword">del</span> <span class="sf_code_syntax_keyword">self</span>.__x    
    x <span class="sf_code_syntax_keyword">=</span> <span class="sf_code_syntax_keyword">property</span>(getx, setx, delx, <span class="sf_code_syntax_string">"I'm the 'x' property.")
</span></code></pre>另外，如果用 pure python 来实现 <code class='code-inline'>property</code> 这个类的话，代码应该如下：
<pre><code class='code-multiline'><span class="sf_code_syntax_project">class</span> Property(<span class="sf_code_syntax_keyword">object</span>):    
    <span class="sf_code_syntax_project">def</span> <span class="sf_code_syntax_keyword">__init__</span>(<span class="sf_code_syntax_keyword">self</span>, fget<span class="sf_code_syntax_keyword">=</span><span class="sf_code_syntax_number">None</span>, fset<span class="sf_code_syntax_keyword">=</span><span class="sf_code_syntax_number">None</span>, fdel<span class="sf_code_syntax_keyword">=</span><span class="sf_code_syntax_number">None</span>, doc<span class="sf_code_syntax_keyword">=</span><span class="sf_code_syntax_number">None</span>):         
        <span class="sf_code_syntax_keyword">self</span>.fget <span class="sf_code_syntax_keyword">=</span> fget        
        <span class="sf_code_syntax_keyword">self</span>.f<span class="sf_code_syntax_keyword">set</span> <span class="sf_code_syntax_keyword">=</span> fset        
        <span class="sf_code_syntax_keyword">self</span>.fdel <span class="sf_code_syntax_keyword">=</span> fdel        
        <span class="sf_code_syntax_keyword">if</span> doc <span class="sf_code_syntax_keyword">is</span> <span class="sf_code_syntax_number">None</span> <span class="sf_code_syntax_keyword">and</span> fget <span class="sf_code_syntax_keyword">is</span> <span class="sf_code_syntax_keyword">not</span> <span class="sf_code_syntax_number">None</span>:            
        doc <span class="sf_code_syntax_keyword">=</span> fget.<span class="sf_code_syntax_keyword">__doc__</span>        
        <span class="sf_code_syntax_keyword">self</span>.<span class="sf_code_syntax_keyword">__doc__</span> <span class="sf_code_syntax_keyword">=</span> doc    
    <span class="sf_code_syntax_project">def</span> <span class="sf_code_syntax_keyword">__get__</span>(<span class="sf_code_syntax_keyword">self</span>, obj, objtype<span class="sf_code_syntax_keyword">=</span><span class="sf_code_syntax_number">None</span>):        
        <span class="sf_code_syntax_keyword">if</span> obj <span class="sf_code_syntax_keyword">is</span> <span class="sf_code_syntax_number">None</span>:            
            <span class="sf_code_syntax_keyword">return</span> <span class="sf_code_syntax_keyword">self</span>         
        <span class="sf_code_syntax_keyword">if</span> <span class="sf_code_syntax_keyword">self</span>.fget <span class="sf_code_syntax_keyword">is</span> <span class="sf_code_syntax_number">None</span>:             
            <span class="sf_code_syntax_keyword">raise</span> <span class="sf_code_syntax_keyword">AttributeError</span>(<span class="sf_code_syntax_string">"unreadable attribute"</span>)         
            <span class="sf_code_syntax_keyword">return</span> <span class="sf_code_syntax_keyword">self</span>.fget(obj)    
    <span class="sf_code_syntax_project">def</span> <span class="sf_code_syntax_keyword">__set__</span>(<span class="sf_code_syntax_keyword">self</span>, obj, value):        
        <span class="sf_code_syntax_keyword">if</span> <span class="sf_code_syntax_keyword">self</span>.f<span class="sf_code_syntax_keyword">set</span> <span class="sf_code_syntax_keyword">is</span> <span class="sf_code_syntax_number">None</span>:            
            <span class="sf_code_syntax_keyword">raise</span> <span class="sf_code_syntax_keyword">AttributeError</span>(<span class="sf_code_syntax_string">"can't set attribute")        
</span>            <span class="sf_code_syntax_keyword">self</span>.f<span class="sf_code_syntax_keyword">set</span>(obj, value)    
    <span class="sf_code_syntax_project">def</span> <span class="sf_code_syntax_keyword">__delete__</span>(<span class="sf_code_syntax_keyword">self</span>, obj):        
        <span class="sf_code_syntax_keyword">if</span> <span class="sf_code_syntax_keyword">self</span>.fdel <span class="sf_code_syntax_keyword">is</span> <span class="sf_code_syntax_number">None</span>:            
            <span class="sf_code_syntax_keyword">raise</span> <span class="sf_code_syntax_keyword">AttributeError</span>(<span class="sf_code_syntax_string">"can't delete attribute")        
</span>            <span class="sf_code_syntax_keyword">self</span>.fdel(obj)    
<span class="sf_code_syntax_comment">#下面的代码在这个例子中没有太大意义
</span>    <span class="sf_code_syntax_project">def</span> getter(<span class="sf_code_syntax_keyword">self</span>, fget):        
       <span class="sf_code_syntax_keyword">return</span> <span class="sf_code_syntax_keyword">type</span>(<span class="sf_code_syntax_keyword">self</span>)(fget, <span class="sf_code_syntax_keyword">self</span>.f<span class="sf_code_syntax_keyword">set</span>, <span class="sf_code_syntax_keyword">self</span>.fdel, <span class="sf_code_syntax_keyword">self</span>.<span class="sf_code_syntax_keyword">__doc__</span>)    
    <span class="sf_code_syntax_project">def</span> setter(<span class="sf_code_syntax_keyword">self</span>, fset):        
        <span class="sf_code_syntax_keyword">return</span> <span class="sf_code_syntax_keyword">type</span>(<span class="sf_code_syntax_keyword">self</span>)(<span class="sf_code_syntax_keyword">self</span>.fget, fset, <span class="sf_code_syntax_keyword">self</span>.fdel, <span class="sf_code_syntax_keyword">self</span>.<span class="sf_code_syntax_keyword">__doc__</span>)    
    <span class="sf_code_syntax_project">def</span> deleter(<span class="sf_code_syntax_keyword">self</span>, fdel):        
        <span class="sf_code_syntax_keyword">return</span> <span class="sf_code_syntax_keyword">type</span>(<span class="sf_code_syntax_keyword">self</span>)(<span class="sf_code_syntax_keyword">self</span>.fget, <span class="sf_code_syntax_keyword">self</span>.f<span class="sf_code_syntax_keyword">set</span>, fdel, <span class="sf_code_syntax_keyword">self</span>.<span class="sf_code_syntax_keyword">__doc__</span>)
</code></pre>这样以后便可以通过自己定义的函数来对 <code class='code-inline'>_x_</code> 这个变量进行管理，要特别指出的是(这一点官方文档中没有强调): 由于 <code class='code-inline'>_x_</code> 是一个 data descriptor，那么所有实例的 <code class='code-inline'>_x_</code> 实际上却是共享的（因为 data descriptor 的访问会覆盖实例字典中的变量），也就是说这是一个属于类的变量。

<h3>Function 和 Method 的转换</h3>
如果读者对 python 有所了解的话，就知道在 class 中定义的函数的类型是 <code class='code-inline'>function</code>， 然而如果是通过类和实例访问时的该函数那么类型就变成了 <code class='code-inline'>method</code>，这种机制是如何实现的呢？（这种变换我不知道有什么实际的作用，但在逻辑上无疑是完美的）
用 pure python 来实现 Function 类大概是这样的：
<pre><code class='code-multiline'><span class="sf_code_syntax_project">class</span> Function(<span class="sf_code_syntax_keyword">object</span>):    
    . . .
    <span class="sf_code_syntax_project">def</span> <span class="sf_code_syntax_keyword">__get__</span>(<span class="sf_code_syntax_keyword">self</span>, obj, objtype<span class="sf_code_syntax_keyword">=</span><span class="sf_code_syntax_number">None</span>):        
        <span class="sf_code_syntax_string">"Simulate func_descr_get() in Objects/funcobject.c"</span>        
        <span class="sf_code_syntax_keyword">return</span> types.MethodType(<span class="sf_code_syntax_keyword">self</span>, obj, objtype)
     . . .</code></pre>
<p><br></p>
<p>如果在 python interpreter  中运行如下例子：</p>
<pre><code class='code-multiline'><span class="sf_code_syntax_keyword">&gt;&gt;&gt;</span> <span class="sf_code_syntax_project">class</span> D(<span class="sf_code_syntax_keyword">object</span>): 
...     <span class="sf_code_syntax_project">def</span> f(<span class="sf_code_syntax_keyword">self</span>, x): 
...         <span class="sf_code_syntax_keyword">return</span> x 
... 
<span class="sf_code_syntax_keyword">&gt;&gt;&gt;</span> d <span class="sf_code_syntax_keyword">=</span> D() 
<span class="sf_code_syntax_keyword">&gt;&gt;&gt;</span> D.<span class="sf_code_syntax_keyword">__dict__</span>[<span class="sf_code_syntax_string">'f'</span>]  
<span class="sf_code_syntax_comment"># Stored internally as a function &lt;function f at 0x00C45070&gt; 
</span><span class="sf_code_syntax_keyword">&gt;&gt;&gt;</span> D.f              
<span class="sf_code_syntax_comment"># Get from a class becomes an unbound method &lt;unbound method D.f&gt; 
</span><span class="sf_code_syntax_keyword">&gt;&gt;&gt;</span> d.f              
<span class="sf_code_syntax_comment"># Get from an instance becomes a bound method &lt;bound method D.f of &lt;__main__.D object at 0x00B18C90&gt;&gt;</span></code></pre>
<p><br></p>
<h3>静态方法 和 类方法</h3>
<p>这里假设读者已经了解了静态方法和类方法的定义和使用，现在总结如下：</p>
<br>
<p><img src='python%20descriptor/677B172F-BA52-4BAC-B32C-9C45A7BC637E.png'></p>
<p>PS: markdown source for this table</p>
<pre><code class='code-multiline'>Transformation |Called from an Object | Called from a Class
:----:|:----:|:----:
function  |  f(obj, *args)  |  f(*args)    
staticmethod  |  f(*args)   | f(*args)    
classmethod   | f(type(obj), *args) |   f(klass, *args)    
</code></pre>那么这又是如何实现的呢？
先看一个静态方法的例子：
<pre><code class='code-multiline'><span class="sf_code_syntax_keyword">&gt;&gt;&gt;</span> <span class="sf_code_syntax_project">class</span> E(<span class="sf_code_syntax_keyword">object</span>): 
...         <span class="sf_code_syntax_project">def</span> f(x): 
...         <span class="sf_code_syntax_keyword">print</span>(x) 
...         f <span class="sf_code_syntax_keyword">=</span> <span class="sf_code_syntax_keyword">staticmethod</span>(f) 
... 
<span class="sf_code_syntax_keyword">&gt;&gt;&gt;</span> <span class="sf_code_syntax_keyword">print</span>(E.f(<span class="sf_code_syntax_number">3</span>)) 
<span class="sf_code_syntax_comment"># 3 
</span><span class="sf_code_syntax_keyword">&gt;&gt;&gt;</span> <span class="sf_code_syntax_keyword">print</span>(E().f(<span class="sf_code_syntax_number">3</span>)) 
<span class="sf_code_syntax_comment"># 3</span></code></pre>
<p><br></p>
<p>用 pure python 来实现 staticmethod 如下：</p>
<pre><code class='code-multiline'><span class="sf_code_syntax_project">class</span> StaticMethod(<span class="sf_code_syntax_keyword">object</span>):  
    <span class="sf_code_syntax_project">def</span> <span class="sf_code_syntax_keyword">__init__</span>(<span class="sf_code_syntax_keyword">self</span>, f):        
        <span class="sf_code_syntax_keyword">self</span>.f <span class="sf_code_syntax_keyword">=</span> f    
    <span class="sf_code_syntax_project">def</span> <span class="sf_code_syntax_keyword">__get__</span>(<span class="sf_code_syntax_keyword">self</span>, obj, objtype<span class="sf_code_syntax_keyword">=</span><span class="sf_code_syntax_number">None</span>):        
        <span class="sf_code_syntax_keyword">return</span> <span class="sf_code_syntax_keyword">self</span>.f</code></pre>
<p><br></p>
<p>静态方法的重要特点（无论是用 class 本身调用静态方法还是 instance 调用，效果一样）就是由 non-data descriptor 的特性来实现的（这里表明若是实例本身添加了与静态方法同名的变量，那么静态方法将不会被访问）</p>
<p>类似地，<code class='code-inline'>classmethod</code> 的实现如下：</p>
<pre><code class='code-multiline'><span class="sf_code_syntax_project">class</span> ClassMethod(<span class="sf_code_syntax_keyword">object</span>):      
    <span class="sf_code_syntax_project">def</span> <span class="sf_code_syntax_keyword">__init__</span>(<span class="sf_code_syntax_keyword">self</span>, f):        
        <span class="sf_code_syntax_keyword">self</span>.f <span class="sf_code_syntax_keyword">=</span> f    
    <span class="sf_code_syntax_project">def</span> <span class="sf_code_syntax_keyword">__get__</span>(<span class="sf_code_syntax_keyword">self</span>, obj, klass<span class="sf_code_syntax_keyword">=</span><span class="sf_code_syntax_number">None</span>):        
        <span class="sf_code_syntax_keyword">if</span> klass <span class="sf_code_syntax_keyword">is</span> <span class="sf_code_syntax_number">None</span>:            
            klass <span class="sf_code_syntax_keyword">=</span> <span class="sf_code_syntax_keyword">type</span>(obj)        
    <span class="sf_code_syntax_project">def</span> newfunc(<span class="sf_code_syntax_keyword">*</span>args):            
        <span class="sf_code_syntax_keyword">return</span> <span class="sf_code_syntax_keyword">self</span>.f(klass, <span class="sf_code_syntax_keyword">*</span>args)        
    <span class="sf_code_syntax_keyword">return</span> newfunc</code></pre>
<p><br></p>
<h2>References</h2>
<ol start="1"><li><a href="https://docs.python.org/3/reference/datamodel.html">Python's Data Model</a>
</li><li><a href="https://docs.python.org/3/howto/descriptor.html">How to Use Descriptor</a>
</li></ol>

        </div>
        <script type="text/javascript">
            (function() {

    var doc_ols = document.getElementsByTagName("ol");

    for ( i=0; i<doc_ols.length; i++) {

        var ol_start = doc_ols[i].getAttribute("start") - 1;
        doc_ols[i].setAttribute("style", "counter-reset:ol " + ol_start + ";");

    }

})();
        </script>
        <style>
            html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font:inherit;font-size:100%;vertical-align:baseline}html{line-height:1}ol,ul{list-style:none}table{border-collapse:collapse;border-spacing:0}caption,th,td{text-align:left;font-weight:normal;vertical-align:middle}q,blockquote{quotes:none}q:before,q:after,blockquote:before,blockquote:after{content:"";content:none}a img{border:none}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}*{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}html{font-size:87.5%;line-height:1.57143em}html{font-size:14px;line-height:1.6em;-webkit-text-size-adjust:100%}body{background:#fcfcfc;color:#545454;text-rendering:optimizeLegibility;font-family:"AvenirNext-Regular"}a{color:#de4c4f;text-decoration:none}h1{font-family:"AvenirNext-Medium";color:#333;font-size:1.6em;line-height:1.3em;margin-bottom:.78571em}h2{font-family:"AvenirNext-Medium";color:#333;font-size:1.3em;line-height:1em;margin-bottom:.62857em}h3{font-family:"AvenirNext-Medium";color:#333;font-size:1.15em;line-height:1em;margin-bottom:.47143em}p{margin-bottom:1.57143em;hyphens:auto}hr{height:1px;border:0;background-color:#dedede;margin:-1px auto 1.57143em auto}ul,ol{margin-bottom:.31429em}ul ul,ul ol,ol ul,ol ol{margin-bottom:0px}ol li:before{content:counter(ol) ".";counter-increment:ol;color:#e06e73;text-align:right;display:inline-block;min-width:1em;margin-right:0.5em}b,strong{font-family:"AvenirNext-Bold"}i,em{font-family:"AvenirNext-Italic"}code{font-family:"Menlo-Regular"}.text-overflow-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sf_code_syntax_string{color:#D33905}.sf_code_syntax_comment{color:#838383}.sf_code_syntax_documentation_comment{color:#128901}.sf_code_syntax_number{color:#0E73A2}.sf_code_syntax_project{color:#5B2599}.sf_code_syntax_keyword{color:#0E73A2}.sf_code_syntax_character{color:#1B00CE}.sf_code_syntax_preprocessor{color:#920448}.note-wrapper{max-width:46em;margin:0px auto;padding:1.57143em 3.14286em}.note-wrapper.spotlight-preview{overflow-x:hidden}u{text-decoration:none;background-image:linear-gradient(to bottom, rgba(0,0,0,0) 50%,#e06e73 50%);background-repeat:repeat-x;background-size:2px 2px;background-position:0 1.05em}s{color:#878787}p{margin-bottom:0.1em}hr{margin-bottom:0.7em;margin-top:0.7em}ul li{text-indent:-0.35em}ul li:before{content:"•";color:#e06e73;display:inline-block;margin-right:0.3em}ul ul{margin-left:1.25714em}ol li{text-indent:-1.45em}ol ol{margin-left:1.25714em}blockquote{display:block;margin-left:-1em;padding-left:0.8em;border-left:0.2em solid #e06e73}.todo-list ul{margin-left:1.88571em}.todo-list li{text-indent:-1.75em}.todo-list li:before{content:"";display:static;margin-right:0px}.todo-checkbox{text-indent:-1.7em}.todo-checkbox svg{margin-right:0.3em;position:relative;top:0.2em}.todo-checkbox svg #check{display:none}.todo-checkbox.todo-checked #check{display:inline}.todo-checkbox.todo-checked .todo-text{text-decoration:line-through;color:#878787}.code-inline{display:inline;background:white;border:solid 1px #dedede;padding:0.2em 0.5em;font-size:0.9em}.code-multiline{display:block;background:white;border:solid 1px #dedede;padding:0.7em 1em;font-size:0.9em;overflow-x:auto}.hashtag{display:inline-block;color:white;background:#b8bfc2;padding:0.0em 0.5em;border-radius:1em;text-indent:0}.hashtag a{color:#fff}.address a{color:#545454;background-image:linear-gradient(to bottom, rgba(0,0,0,0) 50%,#0da35e 50%);background-repeat:repeat-x;background-size:2px 2px;background-position:0 1.05em}.address svg{position:relative;top:0.2em;display:inline-block;margin-right:0.2em}.color-preview{display:inline-block;width:1em;height:1em;border:solid 1px rgba(0,0,0,0.3);border-radius:50%;margin-right:0.1em;position:relative;top:0.2em;white-space:nowrap}.color-code{margin-right:0.2em;font-family:"Menlo-Regular";font-size:0.9em}.color-hash{opacity:0.4}.ordered-list-number{color:#e06e73;text-align:right;display:inline-block;min-width:1em}.arrow svg{position:relative;top:0.08em;display:inline-block;margin-right:0.15em;margin-left:0.15em}.arrow svg #rod{stroke:#545454}.arrow svg #point{fill:#545454}mark{color:inherit;display:inline-block;padding:0px 4px;background-color:#fcffc0}img{max-width:100%;height:auto}

        </style>
    </body>
</html>
